{"is_source_file": true, "format": "Python (FastAPI and Pydantic schemas)", "description": "This file contains Pydantic schemas for API requests and responses, handling data items, query parameters, health checks, and natural language query structures within a FastAPI backend. It defines data validation models, external references, and some utility functions related to object ID serialization.", "external_files": ["typing", "pydantic"], "external_methods": ["pydantic.BaseModel", "pydantic.Field", "pydantic.ConfigDict", "serialize_object_id"], "published": ["HealthResponse", "QueryParams", "PaginationMeta", "DataItemIn", "DataItemOut", "DataItemsPage", "NLQRequest", "NLQResponse"], "classes": [{"name": "HealthResponse", "description": "Schema for a basic health check response, indicating system status."}, {"name": "QueryParams", "description": "Schema encapsulating standard query parameters such as filter, pagination, and sorting options."}, {"name": "PaginationMeta", "description": "Schema for response metadata about pagination state."}, {"name": "DataItemIn", "description": "Schema for creating or updating data items, allowing flexible data payloads."}, {"name": "DataItemOut", "description": "Schema representing data items as returned to API consumers, including an ID and data payload."}, {"name": "DataItemsPage", "description": "Schema for paginated list of data items including items and metadata."}, {"name": "NLQRequest", "description": "Schema for requesting a natural language query transformation."}, {"name": "NLQResponse", "description": "Schema for responding with the results derived from a natural language query, including filters and result items."}], "methods": [{"name": "serialize_object_id(oid)", "description": "Utility function to convert an ObjectId to its string representation for serialization.", "scope": "", "scopeKind": ""}], "calls": ["serialize_object_id"], "search-terms": ["pydantic schemas", "DataItemOut", "NLQRequest", "pagination", "MongoDB filter", "ObjectId serialization", "HealthResponse", "query parameters"], "state": 2, "file_id": 11, "knowledge_revision": 101, "git_revision": "0ca13a1e9b31bc9883219fc70dd0d32bd8620f90", "revision_history": [{"26": ""}, {"44": "9f81e7b03adac48789e8b6b5db6903dcf55b8ebd"}, {"69": "0ca13a1e9b31bc9883219fc70dd0d32bd8620f90"}, {"70": "0ca13a1e9b31bc9883219fc70dd0d32bd8620f90"}, {"100": "0ca13a1e9b31bc9883219fc70dd0d32bd8620f90"}, {"101": "0ca13a1e9b31bc9883219fc70dd0d32bd8620f90"}], "ctags": [{"_type": "tag", "name": "DataItemIn", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemIn(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DataItemOut", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DataItemsPage", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemsPage(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HealthResponse", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class HealthResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NLQRequest", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class NLQRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NLQResponse", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class NLQResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaginationMeta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class PaginationMeta(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QueryParams", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class QueryParams(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "collection", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    collection: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Arbitrary item payload.\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "DataItemIn", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Arbitrary item payload.\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    fields: Optional[List[str]] = Field($/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    filter: Dict[str, Any] = Field($/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    filter: Optional[Dict[str, Any]] = Field($/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    id: str = Field(..., alias=\"_id\", description=\"Item identifier (UUID string).\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    items: List[DataItemOut] = Field(..., description=\"List of items in the page.\")$/", "language": "Python", "typeref": "typename:List[DataItemOut]", "kind": "variable", "scope": "DataItemsPage", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    items: List[Dict[str, Any]] = Field($/", "language": "Python", "typeref": "typename:List[Dict[str, Any]]", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    limit: int = Field(..., ge=1, description=\"Page size used.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    limit: int = Field(default=50, ge=1, le=1000, description=\"Max items to return.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    meta: PaginationMeta = Field($/", "language": "Python", "typeref": "typename:PaginationMeta", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    meta: PaginationMeta = Field(..., description=\"Pagination metadata.\")$/", "language": "Python", "typeref": "typename:PaginationMeta", "kind": "variable", "scope": "DataItemsPage", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "DataItemIn", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict(extra=\"ignore\")$/", "language": "Python", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "nlq", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    nlq: str = Field(..., description=\"Original NLQ string.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    offset: int = Field(..., ge=0, description=\"Offset used.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    offset: int = Field(default=0, ge=0, description=\"Number of items to skip.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    params: Optional[QueryParams] = Field($/", "language": "Python", "typeref": "typename:Optional[QueryParams]", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    query: str = Field(..., description=\"Natural language query input.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "serialize_object_id", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^def serialize_object_id(oid):$/", "language": "Python", "kind": "function", "signature": "(oid)"}, {"_type": "tag", "name": "sort_by", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    sort_by: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "sort_dir", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    sort_dir: Optional[Literal[\"asc\", \"desc\"]] = Field($/", "language": "Python", "typeref": "typename:Optional[Literal[\"asc\", \"desc\"]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    status: str = Field(..., description=\"Health status message, e.g., 'ok'\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "HealthResponse", "scopeKind": "class"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    total: int = Field(..., ge=0, description=\"Total number of matching items.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}], "hash": "651a7fa8207700740deb8a973c828004", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/src/models/schemas.py", "fields": [{"name": "Optional[str] collection", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] data", "scope": "DataItemIn", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] fields", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] filter", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] filter", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "str id", "scope": "DataItemOut", "scopeKind": "class", "description": "unavailable"}, {"name": "List[DataItemOut] items", "scope": "DataItemsPage", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict[str, Any]] items", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int limit", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "PaginationMeta meta", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = ConfigDict(", "scope": "DataItemIn", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = ConfigDict(extra=\"ignore\")", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "str nlq", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int offset", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[QueryParams] params", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str query", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] sort_by", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Literal[\"asc\", \"desc\"]] sort_dir", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "HealthResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int total", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}]}