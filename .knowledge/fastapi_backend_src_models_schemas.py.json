{"is_source_file": true, "format": "Python", "description": "This file contains Pydantic data schemas for API requests and responses, including models for MongoDB ObjectId handling, query parameters, data item representations, pagination, and natural language query (NLQ) payloads. It defines structures used for API validation, serialization, and documentation within a FastAPI backend, with some helper utilities for ObjectId validation and conversion.", "external_files": ["bson"], "external_methods": ["bson.ObjectId", "ObjectId.is_valid"], "published": ["PyObjectId", "serialize_object_id", "HealthResponse", "QueryParams", "PaginationMeta", "DataItemIn", "DataItemOut", "DataItemsPage", "NLQRequest", "NLQResponse"], "classes": [{"name": "PyObjectId", "description": "Wrapper class for MongoDB ObjectId to integrate with Pydantic validation and serialization."}, {"name": "HealthResponse", "description": "Schema for health check API response indicating system status."}, {"name": "QueryParams", "description": "Schema encapsulating common list query parameters (filter, sort, pagination)."}, {"name": "PaginationMeta", "description": "Metadata schema for paginated API responses, including total, limit, and offset."}, {"name": "DataItemIn", "description": "Schema for creating or updating data items, flexible to arbitrary structures."}, {"name": "DataItemOut", "description": "Schema representing a data item with an ID and data payload, used in API responses."}, {"name": "DataItemsPage", "description": "Schema for paginated list of data items, including items and meta info."}, {"name": "NLQRequest", "description": "Schema for a natural language query request, including query text and optional parameters."}, {"name": "NLQResponse", "description": "Schema for NLQ endpoint response, including the derived filter, results, and metadata."}], "methods": [{"name": "Optional[str] serialize_object_id(oid: Optional[Union[ObjectId, str]])", "description": "Helper function to serialize ObjectId or string to string safely.", "scope": "", "scopeKind": ""}, {"name": "__get_pydantic_json_schema__(cls, core_schema, handler)", "scope": "PyObjectId", "scopeKind": "class", "description": "unavailable"}, {"name": "__get_validators__(cls)", "scope": "PyObjectId", "scopeKind": "class", "description": "unavailable"}, {"name": "bool is_valid(cls, oid: Any)", "scope": "ObjectId", "scopeKind": "class", "description": "unavailable"}, {"name": "validate(cls, v: Any)", "scope": "PyObjectId", "scopeKind": "class", "description": "unavailable"}], "calls": ["ObjectId.is_valid", "PyObjectId.validate"], "search-terms": ["MongoDB ObjectId", "Pydantic schemas", "API request/response models", "Natural Language Query", "Data item schemas", "Pagination metadata", "FastAPI schemas"], "state": 2, "file_id": 11, "knowledge_revision": 44, "git_revision": "9f81e7b03adac48789e8b6b5db6903dcf55b8ebd", "revision_history": [{"26": ""}, {"44": "9f81e7b03adac48789e8b6b5db6903dcf55b8ebd"}], "ctags": [{"_type": "tag", "name": "DataItemIn", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemIn(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DataItemOut", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DataItemsPage", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class DataItemsPage(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HealthResponse", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class HealthResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NLQRequest", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class NLQRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NLQResponse", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class NLQResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ObjectId", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    class ObjectId(str):  # type: ignore$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaginationMeta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class PaginationMeta(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PyObjectId", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class PyObjectId(ObjectId):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "QueryParams", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^class QueryParams(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__get_pydantic_json_schema__", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    def __get_pydantic_json_schema__(cls, core_schema, handler):$/", "language": "Python", "kind": "member", "signature": "(cls, core_schema, handler)", "scope": "PyObjectId", "scopeKind": "class"}, {"_type": "tag", "name": "__get_validators__", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    def __get_validators__(cls):$/", "language": "Python", "kind": "member", "signature": "(cls)", "scope": "PyObjectId", "scopeKind": "class"}, {"_type": "tag", "name": "collection", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    collection: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Arbitrary item payload.\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "DataItemIn", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    data: Dict[str, Any] = Field(..., description=\"Arbitrary item payload.\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "fields", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    fields: Optional[List[str]] = Field($/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    filter: Dict[str, Any] = Field($/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "filter", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    filter: Optional[Dict[str, Any]] = Field($/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    id: PyObjectId = Field(..., alias=\"_id\", description=\"MongoDB ObjectId of the item.\")$/", "language": "Python", "typeref": "typename:PyObjectId", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "is_valid", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^        def is_valid(cls, oid: Any) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(cls, oid: Any)", "scope": "ObjectId", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    items: List[DataItemOut] = Field(..., description=\"List of items in the page.\")$/", "language": "Python", "typeref": "typename:List[DataItemOut]", "kind": "variable", "scope": "DataItemsPage", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    items: List[Dict[str, Any]] = Field($/", "language": "Python", "typeref": "typename:List[Dict[str, Any]]", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    limit: int = Field(..., ge=1, description=\"Page size used.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    limit: int = Field(default=50, ge=1, le=1000, description=\"Max items to return.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    meta: PaginationMeta = Field($/", "language": "Python", "typeref": "typename:PaginationMeta", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    meta: PaginationMeta = Field(..., description=\"Pagination metadata.\")$/", "language": "Python", "typeref": "typename:PaginationMeta", "kind": "variable", "scope": "DataItemsPage", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "DataItemIn", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "DataItemOut", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict($/", "language": "Python", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "model_config", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    model_config = ConfigDict(extra=\"ignore\")$/", "language": "Python", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "nlq", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    nlq: str = Field(..., description=\"Original NLQ string.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NLQResponse", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    offset: int = Field(..., ge=0, description=\"Offset used.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    offset: int = Field(default=0, ge=0, description=\"Number of items to skip.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    params: Optional[QueryParams] = Field($/", "language": "Python", "typeref": "typename:Optional[QueryParams]", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    query: str = Field(..., description=\"Natural language query input.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NLQRequest", "scopeKind": "class"}, {"_type": "tag", "name": "serialize_object_id", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^def serialize_object_id(oid: Optional[Union[ObjectId, str]]) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(oid: Optional[Union[ObjectId, str]])"}, {"_type": "tag", "name": "sort_by", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    sort_by: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "sort_dir", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    sort_dir: Optional[Literal[\"asc\", \"desc\"]] = Field($/", "language": "Python", "typeref": "typename:Optional[Literal[\"asc\", \"desc\"]]", "kind": "variable", "scope": "QueryParams", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    status: str = Field(..., description=\"Health status message, e.g., 'ok'\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "HealthResponse", "scopeKind": "class"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    total: int = Field(..., ge=0, description=\"Total number of matching items.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "PaginationMeta", "scopeKind": "class"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/models/schemas.py", "pattern": "/^    def validate(cls, v: Any):$/", "language": "Python", "kind": "member", "signature": "(cls, v: Any)", "scope": "PyObjectId", "scopeKind": "class"}], "hash": "7f2829182de946e8b9734e1eb42fd13b", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/src/models/schemas.py", "fields": [{"name": "Optional[str] collection", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] data", "scope": "DataItemIn", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] fields", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] filter", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] filter", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "PyObjectId id", "scope": "DataItemOut", "scopeKind": "class", "description": "unavailable"}, {"name": "List[DataItemOut] items", "scope": "DataItemsPage", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict[str, Any]] items", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int limit", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "PaginationMeta meta", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = ConfigDict(", "scope": "DataItemIn", "scopeKind": "class", "description": "unavailable"}, {"name": "model_config = ConfigDict(extra=\"ignore\")", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "str nlq", "scope": "NLQResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int offset", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[QueryParams] params", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str query", "scope": "NLQRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] sort_by", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Literal[\"asc\", \"desc\"]] sort_dir", "scope": "QueryParams", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "HealthResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "int total", "scope": "PaginationMeta", "scopeKind": "class", "description": "unavailable"}]}