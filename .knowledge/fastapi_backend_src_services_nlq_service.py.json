{"is_source_file": true, "format": "Python", "description": "This file implements a deterministic natural language query (NLQ) parsing service that converts natural language phrases into MongoDB-style query filters, projections, sorting, and pagination options. It includes functions for parsing date ranges, comparisons, equality, categories, containment, and other query components, and exposes a main function to generate a query dictionary from an NLQ string.", "external_files": [], "external_methods": ["re.match", "re.search", "re.escape", "datetime.now", "timedelta", "timezone"], "published": ["parse_nlq_to_query"], "classes": [], "methods": [{"name": "parse_nlq_to_query", "description": "Main function that takes a natural language query string and returns a deterministic MongoDB query dictionary with filter, projection, sort, limit, and offset."}], "calls": ["re.match", "re.search", "re.escape", "_apply_date_range", "_collect_filters", "_parse_sort", "_parse_limit_offset", "_parse_fields", "_ensure_projection", "_merge_and"], "search-terms": ["NLQ parsing", "deterministic query", "MongoDB filter generator", "natural language to MongoDB query", "rule-based NLQ parser"], "state": 2, "file_id": 12, "knowledge_revision": 183, "git_revision": "0bc30f0d68e1d20e720a275bd477e640dba2e54c", "revision_history": [{"29": ""}, {"47": "de8dac7f2dbfa13add05824461f11be20f7998ad"}, {"133": "48a66c85da4fa1becca41ec960bc7ae7315bca28"}, {"183": "0bc30f0d68e1d20e720a275bd477e640dba2e54c"}], "ctags": [], "filename": "fastapi_backend/src/services/nlq_service.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/data-insight-assistant-40465-40470.git:kavia-main"}