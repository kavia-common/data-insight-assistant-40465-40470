{"is_source_file": true, "format": "Python", "description": "This file provides a wrapper and utility functions for optional integration with the Supabase backend service. It manages configuration checks, client initialization, and health status reporting, allowing other parts of the application to interact with Supabase only when properly configured and enabled.", "external_files": ["../core/config", "../core/logger", "supabase"], "external_methods": ["get_settings", "get_logger", "create_client"], "published": ["is_supabase_enabled", "get_supabase_client", "supabase_health"], "classes": [], "methods": [{"name": "_settings()", "description": "Retrieves current configuration settings to avoid caching at import time.", "scope": "", "scopeKind": ""}, {"name": "bool _is_configured()", "description": "Checks whether Supabase is properly configured with URL and key, and if feature flag is enabled.", "scope": "", "scopeKind": ""}, {"name": "bool is_supabase_enabled()", "description": "Public function that indicates whether Supabase feature is enabled and configured.", "scope": "", "scopeKind": ""}, {"name": "Optional[Any] get_supabase_client()", "description": "Returns a cached Supabase client if available and properly configured; initializes it if not already created.", "scope": "", "scopeKind": ""}, {"name": "dict supabase_health()", "description": "Provides a health status dictionary indicating whether Supabase is enabled, configured, and available.", "scope": "", "scopeKind": ""}], "calls": ["get_settings", "get_logger", "create_client"], "search-terms": ["supabase_wrapper", "optional_supabase_integration", "client_initialization", "health_check", "feature_flag", "config_validation"], "state": 2, "file_id": 17, "knowledge_revision": 68, "git_revision": "4f4fb79a8124c0fbac3f5f0d7cd8bc61c727b2ff", "revision_history": [{"50": ""}, {"68": "4f4fb79a8124c0fbac3f5f0d7cd8bc61c727b2ff"}], "ctags": [{"_type": "tag", "name": "_client", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^_client: Optional[Any] = None  # avoid hard import when package absent$/", "language": "Python", "typeref": "typename:Optional[Any]", "kind": "variable"}, {"_type": "tag", "name": "_is_configured", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^def _is_configured() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_logger", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^_logger = get_logger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_settings", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^def _settings():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_supabase_client", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^def get_supabase_client() -> Optional[Any]:$/", "language": "Python", "typeref": "typename:Optional[Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_supabase_enabled", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^def is_supabase_enabled() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "supabase_health", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/services/supabase_client.py", "pattern": "/^def supabase_health() -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "()"}], "hash": "3273a5ef4f5f001a21ab19361c493840", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/src/services/supabase_client.py", "fields": [{"name": "Optional[Any] _client", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_logger = get_logger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}]}