{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for health checks in a FastAPI application, including database connectivity tests, service liveness, and external service health.", "external_files": ["../core/config", "../core/logger", "../db/sqlalchemy", "../models/schemas", "../services/supabase_client"], "external_methods": ["get_settings", "get_logger", "get_db", "get_engine", "supabase_health"], "published": ["router", "get_health", "get_healthz", "health_db"], "classes": [], "methods": [{"name": "Dict[str,Any] _db_ping(db: Session)", "description": "Performs a lightweight database ping to check database availability.", "scope": "", "scopeKind": ""}, {"name": "HealthResponse get_health(db: Session = Depends(get_db))", "description": "Returns overall service health status, including database and Supabase availability.", "scope": "", "scopeKind": ""}, {"name": "HealthResponse get_healthz(db: Session = Depends(get_db))", "description": "Alias endpoint for /health, returning the same health status.", "scope": "", "scopeKind": ""}, {"name": "HealthResponse health_db()", "description": "Performs a direct database connectivity check using SQLAlchemy engine.", "scope": "", "scopeKind": ""}], "calls": ["db.execute", "text", "supabase_health", "get_settings", "get_logger", "get_db", "get_engine", "get_health", "get_healthz", "HealthResponse", "raise HTTPException"], "search-terms": ["FastAPI health checks", "database ping endpoint", "SQLAlchemy lightweight test", "Supabase health", "liveness probe", "/healthz", "health route", "health check endpoint"], "state": 2, "file_id": 14, "knowledge_revision": 131, "git_revision": "822197812f72cca059d4c53b49ce954445db8e09", "revision_history": [{"33": "de8dac7f2dbfa13add05824461f11be20f7998ad"}, {"52": "de8dac7f2dbfa13add05824461f11be20f7998ad"}, {"54": "611216618f77af53c3d7e143d1e5c7804055cfd7"}, {"64": "e066466406a1f25826a845ca7eb714d14a9e707b"}, {"88": "e066466406a1f25826a845ca7eb714d14a9e707b"}, {"99": "525a4ee3142b3f0e14bd32ed9d48e3f89e0b6a08"}, {"109": "525a4ee3142b3f0e14bd32ed9d48e3f89e0b6a08"}, {"131": "822197812f72cca059d4c53b49ce954445db8e09"}], "ctags": [{"_type": "tag", "name": "_db_ping", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^def _db_ping(db: Session) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(db: Session)"}, {"_type": "tag", "name": "_logger", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^_logger = get_logger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_health", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^def get_health(db: Session = Depends(get_db)) -> HealthResponse:$/", "language": "Python", "typeref": "typename:HealthResponse", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_healthz", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^def get_healthz(db: Session = Depends(get_db)) -> HealthResponse:$/", "language": "Python", "typeref": "typename:HealthResponse", "kind": "function", "signature": "(db: Session = Depends(get_db))"}, {"_type": "tag", "name": "health_db", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^def health_db() -> HealthResponse:$/", "language": "Python", "typeref": "typename:HealthResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/data-insight-assistant-40465-40470/fastapi_backend/src/routers/health.py", "pattern": "/^router = APIRouter(prefix=\"\\/health\", tags=[\"Health\"])$/", "language": "Python", "kind": "variable"}], "hash": "0bd2c183a3646c2bef30bf648a15ff45", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/src/routers/health.py", "fields": [{"name": "_logger = get_logger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/health\", tags=[\"Health\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}