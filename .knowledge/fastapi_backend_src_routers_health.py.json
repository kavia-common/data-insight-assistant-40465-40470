{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI route handlers for health check endpoints, including service liveness and database connectivity checks. It includes functions to assess environment variable presence, and handles external dependencies like SQLAlchemy for database testing.", "external_files": ["../core/config", "../core/logger", "../models/schemas", "../db/sqlalchemy"], "external_methods": ["get_settings", "get_logger", "HealthResponse", "get_engine", "get_effective_db_params"], "published": ["router", "get_health", "get_healthz", "health_db"], "classes": [], "methods": [{"name": "_effective_env_presence", "description": "Checks and reports the presence of critical environment variables without exposing secrets."}, {"name": "get_health", "description": "Liveness endpoint that returns a simple 'ok' status without touching the database."}, {"name": "get_healthz", "description": "Alias endpoint for health check, identical to get_health."}, {"name": "health_db", "description": "Performs a lightweight database connectivity check by executing 'SELECT 1' via SQLAlchemy."}], "calls": ["get_settings", "get_logger", "HealthResponse", "get_engine", "get_effective_db_params", "os.getenv", "text", "conn.execute", "result.scalar_one_or_none", "get_effective_db_params", "raise HTTPException"], "search-terms": ["FastAPI health endpoints", "database connectivity check", "environment variable presence", "SQLAlchemy SELECT 1", "health route handlers"], "state": 2, "file_id": 14, "knowledge_revision": 193, "git_revision": "0820e9529756c09941fad5810c39412167d400ea", "revision_history": [{"33": "de8dac7f2dbfa13add05824461f11be20f7998ad"}, {"52": "de8dac7f2dbfa13add05824461f11be20f7998ad"}, {"54": "611216618f77af53c3d7e143d1e5c7804055cfd7"}, {"64": "e066466406a1f25826a845ca7eb714d14a9e707b"}, {"88": "e066466406a1f25826a845ca7eb714d14a9e707b"}, {"99": "525a4ee3142b3f0e14bd32ed9d48e3f89e0b6a08"}, {"109": "525a4ee3142b3f0e14bd32ed9d48e3f89e0b6a08"}, {"131": "822197812f72cca059d4c53b49ce954445db8e09"}, {"138": "0bc30f0d68e1d20e720a275bd477e640dba2e54c"}, {"142": "e067de21ffef257c6850ad602fa3464ee5e7630e"}, {"145": "5442c3324a2d02c040e580bcee8b1897d6c2f973"}, {"150": "5210c7aa50cdbc537f72ca7e3c57a2bd939250e5"}, {"157": "7e8e80eec125b3f2d241850cf14e23b1923a12fb"}, {"158": "7e8e80eec125b3f2d241850cf14e23b1923a12fb"}, {"175": "0820e9529756c09941fad5810c39412167d400ea"}, {"193": "0820e9529756c09941fad5810c39412167d400ea"}], "ctags": [], "filename": "fastapi_backend/src/routers/health.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/data-insight-assistant-40465-40470.git:kavia-main"}