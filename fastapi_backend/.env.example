# FastAPI Backend - Example Environment Variables

# App metadata and server
APP_NAME="Data Insight Assistant"
APP_ENV="development"
LOG_LEVEL="INFO"
PORT=3001
CORS_ALLOWED_ORIGINS="*"

# Preferred: Single Postgres URL (SQLAlchemy/psycopg2) with explicit port 5432
# Acceptable schemes: postgresql:// or postgresql+psycopg2:// (driver will be enforced)
# IMPORTANT: use port 5432; 6543 is not supported.
# sslmode=require is recommended for Supabase
SUPABASE_DB_URL="postgresql://USER:PASS@HOST:5432/DBNAME?sslmode=require"

# Back-compat variables (still supported but deprecated):
# If DATABASE_URL is set it will be used first, otherwise SUPABASE_DB_URL is preferred.
# Legacy SUPABASE_DB_CONNECTION_STRING remains as a last resort.
DATABASE_URL=""
SUPABASE_DB_CONNECTION_STRING=""

# Alternative: Discrete connection components (all must be set)
# Default port should be 5432; if missing, the app defaults to 5432.
user=""
password=""
host=""
port="5432"
dbname="postgres"

# Pooling controls (optional)
DISABLE_DB_POOL="false"
DB_ECHO="false"

# Supabase HTTP client (optional feature, unrelated to DB port)
ENABLE_SUPABASE="false"
SUPABASE_URL=""
SUPABASE_ANON_KEY=""
SUPABASE_TEST_TABLE=""

# IPv4 preference notes:
# If you face IPv6 connectivity issues to the DB host, prefer setting the host to an IPv4 literal
# or DNS name that resolves to IPv4. You may also provide SUPABASE_DB_HOST_IPV4 to override the host
# portion of the URL at runtime (see README/Troubleshooting).
SUPABASE_DB_HOST_IPV4=""
